
vlib work
vlib grlib

vsim -t ps -novopt -L unisim work.sim_tb_top

onerror {resume}
#Log all the objects in design. These will appear in .wlf file#
log -r /*
#View sim_tb_top signals in waveform#
#add wave -group sim_top sim:/sim_tb_top/*
add wave -group plasma_top sim:/sim_tb_top/u1_plasma_top/*
add wave -group ddr sim:/sim_tb_top/u1_plasma_top/u2_ddr/*

quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next { sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next/pc_current(19 downto 8)} PC
quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next { sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next/pc_current(19 downto 4)} PC_
quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top { sim:/sim_tb_top/u1_plasma_top/SD_A(12 downto 1)} DDR_ADDR
quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache { sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_address(13 downto 2)} CACHE_ADDR
quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache { sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_address(14 downto 2)} CACHE_ADDR001
quietly virtual signal -install sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache { sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_address(10 downto 2)} CACHE_ADDR002
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/cpu_byte_we
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_wb
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/mem_busy
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_wb
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_wb_hold
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next/PC_
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u2_mem_ctrl/opcode_out
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u1_pc_next/pc_current
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/DDR_ADDR
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_A
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_RAS
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_CAS
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_WE
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_DQ
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_UDM
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_UDQS
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_LDM
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/SD_LDQS
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u2_ddr/u2_ddr/address
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u2_ddr/u2_ddr/byte_we
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_enable
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_byte_we
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/CACHE_ADDR002
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_address
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_data_w
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_data_r
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/address_next
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cpu_address
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_access
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_checking
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_miss
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_hit
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_wb
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/mem_busy
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u2_ddr/u2_ddr/write_active
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u2_ddr/u2_ddr/write_prev
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/cpu_pause
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_wb_hold
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/state
add wave  -group CACHE sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/enable
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state_reg
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state_next
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/clk
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/reset_in
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/intr_in
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/address_next
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/byte_we_next
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/address
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/byte_we
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/data_w
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/data_r
add wave  -group CPU sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/mem_pause
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u4_reg_bank/rs_index
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u4_reg_bank/rt_index
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u4_reg_bank/reg_source_out
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/u1_cpu/u4_reg_bank/reg_target_out
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/DO
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/DOP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/ADDR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/CLK
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/DI
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/DIP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/EN
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/SSR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte3/WE
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/DO
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/DOP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/ADDR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/CLK
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/DI
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/DIP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/EN
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/SSR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte2/WE
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/DO
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/DOP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/ADDR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/CLK
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/DI
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/DIP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/EN
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/SSR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte1/WE
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/DO
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/DOP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/ADDR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/CLK
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/DI
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/DIP
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/EN
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/SSR
add wave  -group CACHE_DATA sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_data/block0/ram_byte0/WE
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/cache_ram_address_out
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/cpu_address
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cache_ram_address_reg
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/address
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/cpu_address
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state_reg
add wave  sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state
add wave   sim:/sim_tb_top/u1_plasma_top/u1_plasma/opt_cache2/u_cache/state_next

#Change radix to Hexadecimal#
radix hex
#Supress Numeric Std package and Arith package warnings.#
#For VHDL designs we get some warnings due to unknown values on some signals at startup#
# ** Warning: NUMERIC_STD.TO_INTEGER: metavalue detected, returning 0#
#We may also get some Arithmetic packeage warnings because of unknown values on#
#some of the signals that are used in an Arithmetic operation.#
#In order to suppress these warnings, we use following two commands#
set NumericStdNoWarnings 1
set StdArithNoWarnings 1

run 200us
stop
